### 单一职责原则

单一职责原则(SRP)的职责被定义为“引起变化的原因”。如果我们有两个动机去改写一个方法，那么这个方法就具有两个职责。每个职责都是变化的一个轴线，如果一个方法承担了过多的职责，那么在需求的变迁过程中，需要改写这个方法的可能性就越大。

#### 优缺点：

SRP 原则的优点是降低了单个类或者对象的复杂度，按照职责把对象分解成更小的粒度， 这有助于代码的复用，也有利于进行单元测试。当一个职责需要变更的时候，不会影响到其他 的职责。

但 SRP 原则也有一些缺点，最明显的是会增加编写代码的复杂度。当我们按照职责把对象 分解成更小的粒度之后，实际上也增大了这些对象之间相互联系的难度。

### 最少知识原则

最少知识原则(LKP)说的是一个软件实体应当尽可能少地与其他实体发生相互作用。

#### 减少对象之间的联系

单一职责原则指导我们把对象划分成较小的粒度，这可以提高对象的可复用性。但越来越 多的对象之间可能会产生错综复杂的联系，如果修改了其中一个对象，很可能会影响到跟它相 互引用的其他对象。对象和对象耦合在一起，有可能会降低它们的可复用性。

最少知识原则要求我们在设计程序时，应当尽量减少对象之间的交互。如果两个对象之间不 必彼此直接通信，那么这两个对象就不要发生直接的相互联系。常见的做法是引入一个第三者对 象，来承担这些对象之间的通信作用。如果一些对象需要向另一些对象发起请求，可以通过第三 者对象来转发这些请求。

### 开放-封闭原则

软件实体(类、模块、函数)等应该是可以扩展的，但是不可修改。

通过封装变化的方式，可以把系统中稳定不变的部分和容易变化的部分隔离开来。在系统的 演变过程中，我们只需要替换那些容易变化的部分，如果这些部分是已经被封装好的，那么替换 起来也相对容易。而变化部分之外的就是稳定的部分。在系统的演变过程中，稳定的部分是不需 要改变的。

其他方式

1.放置挂钩

放置挂钩(hook)也是分离变化的一种方式。我们在程序有可能发生变化的地方放置一个挂 钩，挂钩的返回结果决定了程序的下一步走向。

2.使用回调函数

当回调函数被执行的时候，程序就可以因为回 调函数的内部逻辑不同，而产生不同的结果。

### 代码重构

1.提炼函数

​    避免出现超大函数。

​    独立出来的函数有助于代码复用。

​    独立出来的函数更容易被覆写。

​    独立出来的函数如果拥有一个良好的命名，它本身就起到了注释的作用。

2.合并重复的条件片段

3.把条件分支语句提炼成函数

4.合理使用循环

5.提前让函数退出代替嵌套条件分支

6.传递对象参数代替过长的参数列表

7.尽量减少参数数量

8.少用三目运算符

9.合理使用链式调用

10.分解大型类

11.用return退出多重循环